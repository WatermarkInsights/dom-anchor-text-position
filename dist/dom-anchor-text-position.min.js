!function(e,r){if("function"==typeof define&&define.amd)define(["exports","module","dom-seek"],r);else if("undefined"!=typeof exports&&"undefined"!=typeof module)r(exports,module,require("dom-seek"));else{var t={exports:{}};r(t.exports,t,e.seek),e.domAnchorTextPosition=t.exports}}(this,function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e){if(e.nodeType===Node.TEXT_NODE)return e;var r=global.document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);return r.firstChild()}var d=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),a=n(t),u=function(){function e(r,t){if(o(this,e),void 0===r)throw new Error('missing required parameter "start"');if(void 0===t)throw new Error('missing required parameter "end"');this.start=r,this.end=t}return d(e,[{key:"toRange",value:function(){var e=global.document.createRange(),r=global.document.createNodeIterator(global.document.body,NodeFilter.SHOW_TEXT,null,!1),t=this.start,n=this.end,o=a["default"](r,t),i=t-o;r.pointerBeforeReferenceNode?e.setStart(r.referenceNode,i):(e.setStart(r.nextNode(),i),r.previousNode());var d=n-t+i;return o=a["default"](r,d),i=d-o,r.pointerBeforeReferenceNode?e.setEnd(r.referenceNode,i):e.setEnd(r.nextNode(),i),e}},{key:"toSelector",value:function(){return{type:"TextPositionSelector",start:this.start,end:this.end}}}],[{key:"fromRange",value:function(r){if(void 0===r)throw new Error('missing required parameter "range"');var t=r.startContainer,n=r.startOffset;t.nodeType!==Node.TEXT_NODE&&(n>0&&(t=t.childNodes[n]),t=i(t),n=0);var o=r.endContainer,d=r.endOffset;o.nodeType!==Node.TEXT_NODE&&(d>0&&(o=o.childNodes[d]),o=i(o),d=0);var u=global.document.createNodeIterator(global.document.body,NodeFilter.SHOW_TEXT,null,!1),s=a["default"](u,t),f=s+a["default"](u,o);return s+=n,f+=d,new e(s,f)}},{key:"fromSelector",value:function(r){if(void 0===r)throw new Error('missing required parameter "selector"');return new e(r.start,r.end)}}]),e}();r.exports=u});
//# sourceMappingURL=dom-anchor-text-position.min.js.map